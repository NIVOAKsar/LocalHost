(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)i=o[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],r=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=s[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=r,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00e5":function(e,t,s){"use strict";var r=s("3acf"),a=s.n(r);a.a},"041e":function(e,t,s){},"0857":function(e,t,s){},1:function(e,t){},1814:function(e,t,s){"use strict";var r=s("b7d4"),a=s.n(r);a.a},"1c74":function(e,t,s){},2116:function(e,t,s){"use strict";var r=s("c06d"),a=s.n(r);a.a},2482:function(e,t,s){"use strict";var r=s("4d77"),a=s.n(r);a.a},"3acf":function(e,t,s){},4062:function(e,t,s){},"41c5":function(e,t,s){"use strict";var r=s("4f01"),a=s.n(r);a.a},"4ab9":function(e,t,s){"use strict";var r=s("5d44"),a=s.n(r);a.a},"4b12":function(e,t,s){},"4c98":function(e,t,s){"use strict";var r=s("a3a6"),a=s.n(r);a.a},"4d77":function(e,t,s){},"4d98":function(e,t,s){"use strict";var r=s("ee1b"),a=s.n(r);a.a},"4f01":function(e,t,s){},"4f17":function(e,t,s){"use strict";var r=s("a0fc"),a=s.n(r);a.a},5161:function(e,t,s){"use strict";var r=s("f897"),a=s.n(r);a.a},5362:function(e,t,s){"use strict";var r=s("6f9b"),a=s.n(r);a.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex flex-col",attrs:{id:"app"}},[s("div",{staticClass:"screen",class:{open:e.isBackDark}}),s("main-nav",{on:{loginOn:e.showLogin}}),e.showLoginForm?s("log-in",{on:{loginOff:e.loginFormOff}}):e._e(),s("div",{staticClass:"main-container flex flex-col",class:{grow:"/signup"!==e.currPage}},[s("router-view")],1),s("main-footer")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showNav?s("section",{staticClass:"main-nav flex space-between align-center"},[s("div",{staticClass:"nav-container flex space-between align-center"},[s("div",{staticClass:"links-container flex space-around"},[s("router-link",{attrs:{to:"/"}},[s("div",{staticClass:"logo"})])],1),s("div",{staticClass:"buttons-container"},[e.getLoggedUser?s("div",[s("span",{staticClass:"welcome"}),s("img",{staticClass:"user-img",style:"background-image: url("+e.getLoggedUser.imgUrl+")",on:{click:e.toggleUserWindow}})]):s("div",{staticClass:"join-container"},[s("span",{staticClass:"welcome"},[e._v("Welcome Guest!")]),s("button",{staticClass:"btn",on:{click:e.signUp}},[e._v("Join")]),s("button",{staticClass:"btn btn-empty",on:{click:e.loginFormOn}},[e._v("Sign In")])])]),e.showUserWindow?s("user-window",{on:{closeWindow:function(t){e.showUserWindow=!1}}}):e._e()],1)]):e._e()},o=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"user-window flex flex-col align-center"},[s("div",{staticClass:"top flex"},[s("img",{staticClass:"user-img",style:"background-image: url("+e.getLoggedUser.imgUrl+")"}),s("div",{staticClass:"details"},[s("div",{staticClass:"name"},[e._v(e._s(e.getLoggedUser.firstName)+" "+e._s(e.getLoggedUser.lastName))]),s("div",[e._v(e._s(e.getLoggedUser.email))]),s("button",{staticClass:"btn inbox-btn",on:{click:e.goToManager}},[e._v("Manager")])])]),s("div",{staticClass:"bottom flex space-between"},[s("button",{staticClass:"btn profile-btn",on:{click:e.goToProfile}},[e._v("Profile")]),s("button",{staticClass:"btn logout-btn",on:{click:e.logOut}},[e._v("Log out")])])])},u=[],l={name:"user-window",data:function(){return{}},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser}},methods:{logOut:function(){this.$store.dispatch({type:"logout"}),this.$emit("closeWindow"),this.$router.push("/")},goToProfile:function(){this.$router.push("/userProfile/"+this.getLoggedUser._id),this.$emit("closeWindow")},goToManager:function(){this.$emit("closeWindow"),this.$router.push("/userProfile/"+this.getLoggedUser._id+"/manager")}}},d=l,p=(s("41c5"),s("2877")),f=Object(p["a"])(d,c,u,!1,null,"4bb80ca2",null),m=f.exports,v={name:"main-nav",components:{userWindow:m},methods:{signUp:function(){this.$router.push("/signup")},loginFormOn:function(){this.$emit("loginOn")},toggleUserWindow:function(){this.showUserWindow=!this.showUserWindow}},data:function(){return{showUserWindow:!1}},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser},showNav:function(){return"/signup"!==this.$route.path}}},g=v,h=(s("5362"),Object(p["a"])(g,i,o,!1,null,"6084a4f2",null)),w=h.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"login"},[s("div",{staticClass:"top flex space-between align-center justify-center"},[s("h1",[e._v("Sign In")]),s("span",{on:{click:function(t){return e.$emit("loginOff")}}},[e._v("×")])]),s("hr"),s("div",{staticClass:"content flex flex-col"},[s("el-form",{staticClass:"demo-form-inline flex flex-col",attrs:{inline:!1,model:e.credentials}},[s("b-form-group",{staticClass:"input",attrs:{required:""}},[s("font-awesome-icon",{staticClass:"input-icon",attrs:{icon:"user"}}),s("b-form-input",{attrs:{type:"email",required:"",placeholder:"Enter Email..."},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}})],1),s("b-form-group",{staticClass:"input",attrs:{required:""}},[s("font-awesome-icon",{staticClass:"input-icon",attrs:{icon:"lock"}}),s("b-form-input",{attrs:{type:"password",placeholder:"Enter Password...",required:""},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1),s("div",{staticClass:"btn-container flex justify-center flex-col"},[s("button",{staticClass:"btn btn-login",on:{click:e.tryLogin}},[e._v("SIGN IN")]),s("p",[e._v("\n          Not a Member?\n          "),s("router-link",{attrs:{to:"/signup"}},[s("span",{staticClass:"signup-btn",on:{click:function(t){return e.$emit("loginOff")}}},[e._v("Sign Up")])])],1)])],1)],1)])},_=[],y={name:"log-in",data:function(){return{credentials:{email:"",password:""}}},methods:{tryLogin:function(){var e=this;this.checkForm&&this.$store.dispatch({type:"login",credentials:this.credentials}).then(function(t){if(t){var s=e.$swal.mixin({toast:!0,position:"bottom-start",showConfirmButton:!1,timer:3e3});s.fire({type:"success",title:"Welcome ".concat(t.firstName," ").concat(t.lastName,"!")})}e.$router.push(e.$route.path),e.$emit("loginOff")})},checkForm:function(e){if(this.credentials.email&&this.credentials.password)return!0;e.preventDefault()}}},C=y,x=(s("754f"),Object(p["a"])(C,b,_,!1,null,"e881df24",null)),k=x.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showNav?s("section",{staticClass:"main-footer"},[s("router-link",{attrs:{to:"/about"}},[e._v("About")]),s("div",[e._v("CONNECT WITH US")]),s("div",[e._v("© 1999 - 2019 LocalHost International, Inc.")])],1):e._e()},U=[],$={name:"main-footer",computed:{showNav:function(){return"/signup"!==this.$route.path}}},A=$,D=(s("2482"),Object(p["a"])(A,R,U,!1,null,"d99ce798",null)),O=D.exports,N=new r["default"],P=N,S={data:function(){return{currPage:"",isBackDark:!1,showLoginForm:!1}},components:{MainNav:w,logIn:k,MainFooter:O},created:function(){var e=this;this.currPage=this.$route.path,console.log("hey"),this.$store.dispatch({type:"checkLogged"}),P.$on("popToast",function(){return e.popToast.apply(e,arguments)})},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser}},methods:{loginFormOff:function(){this.showLoginForm=!1,this.isBackDark=!1},showLogin:function(){this.showLoginForm=!0,this.isBackDark=!0},popToast:function(e,t,s,r){var a=this.$swal.mixin({toast:!0,position:t,showConfirmButton:!1,timer:s});a.fire({type:e,title:r})}},watch:{$route:function(e,t){this.currPage=this.$route.path}}},q=S,j=(s("5c0b"),Object(p["a"])(q,a,n,!1,null,null,null)),F=j.exports,I=s("8c4f"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("main-header"),s("h1",{staticClass:"user-list-title"},[e._v("Meet Some Of Our Top Hosts")]),s("user-list",{attrs:{users:e.homeUsers}}),s("why-join"),s("h1",[e._v("Top Destinations")]),s("city-search"),s("div",{staticClass:"cities-gallery grid"},e._l(e.topDests,function(t){return s("div",{key:t._id,class:"img-container "+t.name},[s("div",{staticClass:"city-name",style:"background-image: url("+t.imgUrl+")",on:{click:function(s){return e.moveToUsers(t)}}},[s("div",{staticClass:"city-name-title"},[e._v(e._s(t.name))])])])}),0)],1)},H=[],E=(s("6b54"),s("a481"),s("7f7f"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"main-header flex flex-col align-center justify-center",class:{"users-head":"/"!==e.$route.path},style:"background-image:linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.63)), url("+e.backImg+")"},["/"===e.$route.path?s("div",{staticClass:"header-title"},[s("h1",{staticClass:"big-title-home"},[e._v("Find a Place To Stay On Your Trip")]),s("h2",{staticClass:"small-title-home"},[e._v("The Ultimate Travel Experience!")]),s("button",{staticClass:"btn",attrs:{type:"success",round:""},on:{click:function(t){return e.$router.push("/signup")}}},[e._v("Join")])]):e._e(),"/"===e.$route.path?s("img",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#whyjoin",expression:"'#whyjoin'"}],staticClass:"arrow-down bounce",attrs:{href:"#",src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553953172/fav-icons/arrow-down.png"}}):e._e(),"/"!==e.$route.path?s("div",{staticClass:"users-title"},[s("h2",{staticStyle:{"font-size":"4vw"}},[e._v(e._s(e.currPageCountry))]),s("h1",{staticStyle:{"font-size":"8.5vw","margin-bottom":"60px","font-family":"'BebasNeueRegular'"}},[e._v(e._s(e.currPageCity))])]):e._e()])}),L=[],G={name:"main-header",data:function(){return{currPageCity:"",currPageCountry:""}},created:function(){var e=this.$route.path.substring(1,this.$route.path.length),t=e.indexOf("/"),s=e.indexOf("&");this.currPageCountry=e.substr(t+1,s-t-1),this.currPageCity=e.substr(s+1,e.length)},computed:{backImg:function(){if("/"===this.$route.path)return"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553254624/bg-imgs/main-header.jpg";var e=this.$route.params.city.toLowerCase();return-1!==e.indexOf(" ")&&(e=e.replace(/\s/g,"%20")),"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553965831/city-imgs/"+e+".jpg"}}},M=G,W=(s("83a9"),Object(p["a"])(M,E,L,!1,null,"56acc746",null)),B=W.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"city-search flex justify-center"},[s("gmap-autocomplete",{staticClass:"google-search",on:{place_changed:e.chooseCity}}),s("button",{staticClass:"btn"},[s("font-awesome-icon",{attrs:{icon:"search"}})],1)],1)},z=[],K=s("f499"),J=s.n(K),V={name:"CitySearch",props:{},data:function(){return{searchWord:"",cityImg:null}},computed:{getCities:function(){return this.$store.getters.cities}},methods:{chooseCity:function(e){this.cityImg=e.photos[0].getUrl({maxWidth:100,maxHeight:100});var t=JSON.parse(J()(e.formatted_address)),s=t.indexOf(","),r=t.substr(0,s),a=t.substr(s+2,t.length);this.$router.push("/users/".concat(a,"&").concat(r))}}},X=V,Z=(s("dfa2"),Object(p["a"])(X,Y,z,!1,null,"0f9404ac",null)),Q=Z.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"why-join",attrs:{id:"whyjoin"}},[s("h1",[e._v("Why Join?")]),s("div",{staticClass:"cards-container flex justify-center"},[s("b-card",{staticClass:"card",attrs:{title:"Community","img-src":"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553566197/bg-imgs/why-join-1.jpg","img-alt":"Image","img-top":""}},[s("b-card-text",[e._v('"A great way to experience places from a unique insider perspective. Travel is more about the people you meet than the places you see, people are inherently good."')]),s("b-card-text",{staticClass:"small text-muted"},[e._v("- Scott and Rachel (Traveling In Asia)")])],1),s("b-card",{staticClass:"card",attrs:{title:"Guesting","img-src":"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553566200/bg-imgs/why-join-2.jpg","img-alt":"Image","img-top":""}},[s("b-card-text",[e._v('"An opportunity to live very valuable and beautiful experiences. I know that anywhere in the world I visit, I\'ll possibly have a good friend waiting for me!"')]),s("b-card-text",{staticClass:"small text-muted"},[e._v("- Jessica (Traveling in South America)")])],1),s("b-card",{staticClass:"card",attrs:{title:"Hosting","img-src":"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553566198/bg-imgs/why-join-3.jpg","img-alt":"Image","img-top":""}},[s("b-card-text",[e._v('"We had no money to travel the world with our four kids, and decided to let the world come to us. A lot of them became friends for life!"')]),s("b-card-text",{staticClass:"small text-muted"},[e._v("- Robbert, Brad, and Kids (Hosting in Amsterdam)")])],1)],1)])},te=[],se={name:"why-join",components:{}},re=se,ae=(s("94d9"),Object(p["a"])(re,ee,te,!1,null,"f87ba7fa",null)),ne=ae.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"list-container flex justify-center flex-col align-center"},[e.users?s("div",{staticClass:"profile-list"},e._l(e.users,function(e,t){return s("router-link",{key:e._id,staticClass:"profile-list-item",attrs:{"data-aos":"zoom-in",to:"/userProfile/"+e._id}},[s("user-preview",{attrs:{profile:e,idx:t+1}})],1)}),1):e._e()])},oe=[],ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("div",{staticClass:"card"},[s("div",{staticClass:"user"},[s("div",{staticClass:"avatar",style:"background-image: url("+e.profile.imgUrl+")"}),s("div",{staticClass:"user-details"},[s("h3",[e._v(e._s(e.profile.firstName)+" "+e._s(e.profile.lastName))]),s("hr"),s("div",{staticClass:"location"},[s("font-awesome-icon",{attrs:{icon:"map-marker-alt"}}),s("span",[e._v(" "+e._s(e.profile.address.city)+", "+e._s(e.profile.address.country))])],1),s("stars-toshow",{attrs:{value:e.rateAverage,disabled:!0}}),s("div",{staticClass:"personal-description"},[e._v(e._s(e.profile.lineDescription))]),s("div",[e._v("Click for more information...")])],1)])])])},ue=[],le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"star-rating"},[s("div",{staticClass:"star-rating"},e._l(e.ratings,function(t){return s("label",{key:t,staticClass:"star-rating__star",class:{"is-selected":e.value>=t&&null!=e.value,"is-disabled":e.disabled},on:{click:function(s){return e.set(t)},mouseover:function(s){return e.star_over(t)},mouseout:e.star_out}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"star-rating star-rating__checkbox",attrs:{type:"radio",name:e.name,disabled:e.disabled},domProps:{value:t,checked:e._q(e.value,t)},on:{change:function(s){e.value=t}}}),e._v("★\n    ")])}),0)])},de=[],pe={props:{name:String,value:null,id:String,disabled:Boolean,required:Boolean},name:"star-rating",data:function(){return{temp_value:null,ratings:[1,2,3,4,5]}},computed:{},methods:{star_over:function(e){if(!this.disabled)return this.temp_value=this.value,this.value=e},star_out:function(){if(!this.disabled)return this.value=this.temp_value},set:function(e){if(!this.disabled)return this.temp_value=e,this.value=e}}},fe=pe,me=(s("2116"),Object(p["a"])(fe,le,de,!1,null,"7b4f5e1a",null)),ve=me.exports,ge={props:["profile"],components:{StarsToshow:ve},computed:{rateAverage:function(){var e=0,t=this.profile.references.length;return this.profile.references.reduce(function(s,r){return e+=+r.rating,s=e/t,s},0)}}},he=ge,we=(s("b2b9"),Object(p["a"])(he,ce,ue,!1,null,"1947cdf6",null)),be=we.exports,_e={name:"user-list",components:{UserPreview:be},props:["users"]},ye=_e,Ce=(s("de0f"),Object(p["a"])(ye,ie,oe,!1,null,"89508ba8",null)),xe=Ce.exports,ke={name:"home",data:function(){return{users:null}},created:function(){this.$store.dispatch({type:"loadTopDests"}),this.$store.dispatch({type:"loadUsers"});this.$store.dispatch({type:"loadHomeUser",userId:"5ca34f72854aef61a09c0d4c"}),this.$store.dispatch({type:"loadHomeUser",userId:"5ca34f72854aef61a09c0d4d"}),this.$store.dispatch({type:"loadHomeUser",userId:"5ca34f72854aef61a09c0d4f"}),this.$store.dispatch({type:"loadHomeUser",userId:"5ca34f72854aef61a09c0d5a"})},methods:{moveToUsers:function(e){var t=e.country,s=e.name;this.$router.push("/users/"+t+"&"+s)}},computed:{topDests:function(){return this.$store.getters.topDests},homeUsers:function(){return this.$store.getters.homeUsers},getUsers:function(){return this.$store.getters.currUsers},getNumOfUsers:function(){var e=Math.floor(Math.random()*Math.floor(1e4));return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},components:{MainHeader:B,CitySearch:Q,WhyJoin:ne,UserList:xe}},Re=ke,Ue=(s("d5c9"),Object(p["a"])(Re,T,H,!1,null,"a6a351fa",null)),$e=Ue.exports,Ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},De=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"about"},[s("h1",[e._v("This is an about page")])])}],Oe={},Ne=Object(p["a"])(Oe,Ae,De,!1,null,null,null),Pe=Ne.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"users flex flex-col"},[s("main-header"),s("div",{staticClass:"main-title"},[e._v("Hosts In The Area")]),s("div",{staticClass:"users-container"},[s("user-list",{attrs:{users:e.getUsers}})],1)],1)},qe=[],je=(s("96cf"),s("3b8d")),Fe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ie=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"globe"},[s("div",{attrs:{id:"earth"}},[s("div",{staticClass:"halfShadow"}),s("div",{attrs:{id:"lands"}},[s("div",{staticClass:"land"}),s("div",{staticClass:"land"}),s("div",{staticClass:"land"}),s("div",{staticClass:"land"}),s("div",{staticClass:"land"})]),s("div",{attrs:{id:"clouds"}},[s("div",{staticClass:"cloud"}),s("div",{staticClass:"cloud"}),s("div",{staticClass:"cloud"}),s("div",{staticClass:"cloud"}),s("div",{staticClass:"cloud"})])]),s("div",{attrs:{id:"earthText"}})])}],Te={},He=Te,Ee=(s("dc32"),Object(p["a"])(He,Fe,Ie,!1,null,"0024d8fe",null)),Le=Ee.exports,Ge={name:"Users",components:{UserList:xe,MainHeader:B,GlobeLoader:Le},data:function(){return{showAnimation:!0}},created:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(){var t,s,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.city,s=this.$route.params.country,e.next=4,this.$store.dispatch("loadUsers",{city:t,country:s});case 4:setTimeout(function(){r.showAnimation=!1},1100);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{getUsers:function(){return this.$store.getters.currUsers}}},Me=Ge,We=(s("c01f"),Object(p["a"])(Me,Se,qe,!1,null,"7680bcc2",null)),Be=We.exports,Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"signup flex flex-col"},[s("div",{staticClass:"logo"},[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553958499/logo/logo.png",alt:""}})])],1),s("h1",{staticClass:"title"},[e._v("Sign Up")]),s("div",{staticClass:"forms-container"},[s("el-steps",{staticClass:"steps",attrs:{active:e.active,"finish-status":"success"}},[s("el-step",{staticClass:"step",attrs:{title:"Step 1"},nativeOn:{click:function(t){return e.stepBack(t)}}}),s("el-step",{staticClass:"step",attrs:{title:"Step 2"}})],1),s("div",{staticClass:"form"},[0===e.active?s("b-form",{staticClass:"flex flex-col"},[s("div",{staticClass:"name-container flex space-between"},[s("b-form-group",{staticClass:"small-input",attrs:{label:"First Name:"}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:e.form.fName,callback:function(t){e.$set(e.form,"fName",t)},expression:"form.fName"}})],1),s("b-form-group",{staticClass:"small-input",attrs:{label:"Last Name:"}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:e.form.lName,callback:function(t){e.$set(e.form,"lName",t)},expression:"form.lName"}})],1)],1),s("b-form-group",{attrs:{label:"Email address:"}},[s("b-form-input",{attrs:{type:"email",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),s("b-form-group",{attrs:{label:"Password:"}},[s("b-form-input",{attrs:{type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),s("button",{staticClass:"btn signup-btn",staticStyle:{"margin-top":"12px"},on:{click:e.next}},[e._v("Next Step")])],1):e._e(),1===e.active?s("b-form",{staticClass:"flex flex-col"},[s("div",{staticClass:"bday-container"},[s("label",[e._v("Birthday:")]),s("div",{staticClass:"selects-container flex space-between"},[s("el-select",{staticClass:"bday-selsct",attrs:{placeholder:"Day",required:""},model:{value:e.form.birthdate.day,callback:function(t){e.$set(e.form.birthdate,"day",t)},expression:"form.birthdate.day"}},e._l(31,function(t){return s("el-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1),s("el-select",{staticClass:"bday-selsct",attrs:{placeholder:"Month"},model:{value:e.form.birthdate.month,callback:function(t){e.$set(e.form.birthdate,"month",t)},expression:"form.birthdate.month"}},e._l(12,function(t){return s("el-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1),s("el-select",{staticClass:"bday-selsct",attrs:{placeholder:"Year"},model:{value:e.form.birthdate.year,callback:function(t){e.$set(e.form.birthdate,"year",t)},expression:"form.birthdate.year"}},e._l(100,function(t){return s("el-option",{key:t,attrs:{value:t+1920}},[e._v(e._s(t+1920))])}),1)],1)]),s("label",[e._v("Gender:")]),s("el-select",{staticClass:"gender-select",attrs:{placeholder:"Gender",required:""},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[s("el-option",{attrs:{value:""}},[e._v("Select Gender")]),e._l(e.genders,function(t){return s("el-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])})],2),s("label",[e._v("Location:")]),s("gmap-autocomplete",{staticClass:"google-search",on:{place_changed:e.setAddres}}),s("div",{staticClass:"btns-container flex"},[s("button",{staticClass:"btn signup-btn",staticStyle:{"margin-top":"12px"},on:{click:e.stepBack}},[e._v("Previous Step")]),s("button",{staticClass:"btn signup-btn",staticStyle:{"margin-top":"12px"},on:{click:e.next}},[e._v("Sign Up")])])],1):e._e()],1)],1)])},ze=[],Ke={name:"sign-up",data:function(){return{active:0,form:{fName:"",lName:"",email:"",password:"",gender:"",birthdate:{day:"",month:"",year:""},address:{}},genders:["Male","Female","Other"],searchWord:""}},methods:{next:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkForm()){e.next=2;break}return e.abrupt("return");case 2:if(1!==this.active){e.next=9;break}if(this.checkForm2()){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,this.$store.dispatch({type:"signup",credentials:this.form});case 7:this.$router.push("/userProfile/"+this.getLoggedUser._id),this.popToast("success","bottom-start",3e3,"You Have Successfully Signed Up! ");case 9:this.active++>1&&(this.active=0);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setAddres:function(e){var t=e.formatted_address.indexOf(", "),s=e.formatted_address.substr(0,t),r=e.formatted_address.substr(t+2,e.formatted_address.length-1);this.form.address={city:s,country:r}},stepBack:function(){this.active=0},checkForm:function(){return this.form.fName&&this.form.lName&&this.form.email&&this.form.password},checkForm2:function(){return this.form.gender&&this.form.birthdate.day&&this.form.birthdate.month&&this.form.birthdate.year&&this.form.address}},popToast:function(e,t,s,r){var a=this.$swal.mixin({toast:!0,position:t,showConfirmButton:!1,timer:s});a.fire({type:e,title:r})},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser},getCities:function(){return this.$store.getters.cities}}},Je=Ke,Ve=(s("79a0"),Object(p["a"])(Je,Ye,ze,!1,null,"99a5bb0a",null)),Xe=Ve.exports,Ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.currUser?s("section",{staticClass:"profile-container flex flex-col justify-center"},[s("carousel",{staticClass:"carousel flex justify-center",attrs:{"per-page":3,"mouse-drag":!0,autoplay:!0,loop:!0,autoplayTimeout:4e3,perPageCustom:[[300,1],[700,2],[1200,3]],speed:1e3,paginationEnabled:!1}},e._l(e.currUser.pictures,function(e,t){return s("slide",{key:t},[s("div",{staticClass:"carousel-img",style:"background-image: url("+e+")"})])}),1),s("div",{staticClass:"profile-container flex justify-center"},[s("div",{staticClass:"side-profile"},[s("div",{staticClass:"profile-img",style:"background-image: url("+e.currUser.imgUrl+"); text-align: center;"}),s("div",{staticClass:"profile-name"},[e._v(e._s(e.currUser.firstName)+" "+e._s(e.currUser.lastName))]),s("div",{staticClass:"profile-loc"},[e._v(e._s(e.currUser.address.city?e.currUser.address.city+",":"")+" "+e._s(e.currUser.address.country))]),s("hr"),s("div",{staticClass:"flex justify-center align-center flex-col"},[s("div",[e._v(e._s(e.currUser.isHosting?"Accepting Guests":"Not Accepting Guests"))]),e.loggedUser&&e.loggedUser._id===e.currUser._id?s("div",{staticClass:"flex flex-col"},[s("router-link",{key:e.currUser._id,attrs:{to:"/userProfile/"+e.currUser._id+"/edit"}},[s("button",{staticClass:"btn"},[e._v("Edit My Profile")])]),s("router-link",{attrs:{to:"/userProfile/"+e.currUser._id+"/manager"}},[s("button",{staticClass:"btn"},[e._v("Manager")])])],1):s("div",{staticClass:"flex flex-col"},[e.currUser.isHosting?s("button",{staticClass:"btn",on:{click:e.revealRequestForm}},[s("font-awesome-icon",{attrs:{icon:"couch"}}),e._v(" Send Request!\n          ")],1):e._e()])])]),s("div",{staticClass:"main-desc"},[s("div",{staticClass:"cmps",attrs:{id:"cmps"}},[s("nav",{staticClass:"main-desc-nav"},[s("div",{staticClass:"profile-nav flex flex-row justify-center",class:{display:e.isNavInDisplay}},[s("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:"#about",container:"body"},expression:"{ el: '#about', container: 'body'}"}],staticClass:"nav-item",attrs:{href:"#"}},[e._v("Overview")]),s("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:"#home",container:"body"},expression:"{ el: '#home', container: 'body'}"}],staticClass:"nav-item",attrs:{href:"#"}},[e._v("Home")]),s("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:"#pics",container:"body"},expression:"{ el: '#pics', container: 'body'}"}],staticClass:"nav-item",attrs:{href:"#"}},[e._v("Pictures")]),s("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:{el:"#references",container:"body"},expression:"{ el: '#references', container: 'body'}"}],staticClass:"nav-item",attrs:{href:"#"}},[e._v("References")])])]),s("profile-about",{staticClass:"detail-section",attrs:{user:e.currUser,id:"about"}}),e.currUser.isHosting?s("profile-myHome",{staticClass:"detail-section",attrs:{pref:e.currUser.placeDetails,id:"home"}}):e._e(),s("profile-pictures",{staticClass:"detail-section",attrs:{user:e.currUser,id:"pics"}}),s("profile-references",{staticClass:"detail-section",attrs:{user:e.currUser,loggedUser:e.loggedUser,id:"references"}})],1),e.showRequestForm?s("guest-request",{on:{hideRequestForm:e.hideRequestForm}}):e._e()],1)]),e.loggedUser&&e.loggedUser._id===e.currUser._id?e._e():s("div",{staticClass:"mobile"},[e.currUser.isHosting?s("button",{staticClass:"btn",on:{click:e.revealRequestForm}},[s("font-awesome-icon",{attrs:{icon:"couch"}}),e._v(" Send Request!\n    ")],1):e._e()])],1):e._e()},Qe=[],et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("section",{staticClass:"about"},[s("div",{staticClass:"overview"},[s("h5",{staticClass:"header-box"},[e._v("OVERVIEW")]),s("hr",{staticStyle:{margin:"0"}}),s("div",{staticClass:"user-info flex"},[s("div",{staticClass:"side flex flex-col"},[s("div",{staticClass:"info-item"},[s("font-awesome-icon",{attrs:{icon:"quote-left"}}),e._v("\n           "+e._s(e.user.references.length)+" References\n        ")],1),s("div",{staticClass:"info-item"},[s("font-awesome-icon",{attrs:{icon:"comment"}}),e._v("\n            "+e._s(e.user.languages.length===[""]||0===e.user.languages.length?"No languages listed":"Fluent in")+"\n          "),e._l(e.user.languages,function(t,r){return s("span",{key:r},[e._v(e._s(t))])})],2),s("div",{staticClass:"info-item"},[s("font-awesome-icon",{attrs:{icon:"venus-mars"}}),e._v("\n          "+e._s(e.getAge)+", "+e._s(e.user.gender)+"\n        ")],1)]),s("div",{staticClass:"side flex flex-col"},[s("div",{staticClass:"info-item"},[s("font-awesome-icon",{attrs:{icon:"briefcase"}}),e._v("\n           "+e._s(e.user.occupation?e.user.occupation:"No occupation listed")+"\n        ")],1),s("div",{staticClass:"info-item"},[s("font-awesome-icon",{attrs:{icon:"book"}}),e._v("\n           "+e._s(e.user.education?e.user.education:"No education listed")+"\n        ")],1),s("div",{staticClass:"info-item"},[s("font-awesome-icon",{attrs:{icon:"map-marker-alt"}}),e._v("\n           "+e._s(e.user.address.city?e.user.address.city+",":"")+" "+e._s(e.user.address.country)+"\n        ")],1)])])])]):e._e()},tt=[],st={props:["user"],computed:{getAge:function(){return this.calcAge()}},methods:{calcAge:function(){var e=this.user.birthdate.year,t=this.user.birthdate.month,s=this.user.birthdate.day,r=new Date,a=r.getFullYear()-e;return r.getMonth()+1<t?a--:r.getMonth()+1===t&&r.getDay()<s&&a--,a}}},rt=st,at=(s("f7d7"),Object(p["a"])(rt,et,tt,!1,null,"a56b7854",null)),nt=at.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.pref?s("section",{staticClass:"my-home"},[s("div",{staticClass:"my-home-pref"},[s("h3",{staticClass:"header-box"},[e._v("MY HOME")]),s("hr",{staticStyle:{margin:"0"}}),s("div",{staticClass:"pref-info flex"},[s("ul",{staticClass:"pref-list flex flex-col"},[s("li",{staticClass:"info-item"},[e._v("\n          Max Number of Guests?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.guestCapacity))])]),s("li",{staticClass:"info-item"},[e._v("\n          Preferred Gender to Host:\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.guestGenderPref))])]),s("li",{staticClass:"info-item"},[e._v("\n          Kid Friendly?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.isKidFriendly?"Yes":"No"))])]),s("li",{staticClass:"info-item"},[e._v("\n          Pet Friendly?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.isPetFriendly?"Yes":"No"))])]),s("li",{staticClass:"info-item"},[e._v("\n          Smoking Allowed?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.isSmokingAllowed?"Yes":"No"))])])]),s("ul",{staticClass:"pref-list flex flex-col"},[s("li",{staticClass:"info-item"},[e._v("\n          Has Pets?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.pets))])]),s("li",{staticClass:"info-item"},[e._v("\n          Has Children?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.children))])]),s("li",{staticClass:"info-item"},[e._v("\n          Disabled Accessible?\n          "),s("span",{staticClass:"ans"},[e._v(e._s(e.pref.isDisabledAccessible?"Yes":"No"))])])])])])]):e._e()},ot=[],ct={props:["pref"]},ut=ct,lt=(s("4d98"),Object(p["a"])(ut,it,ot,!1,null,"5c30b55a",null)),dt=lt.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("section",{staticClass:"pictures"},[s("div",{staticClass:"pictures-pref"},[s("h3",{staticClass:"header-box"},[e._v("PICTURES")]),s("hr",{staticStyle:{margin:"0"}}),s("div",{staticClass:"user-info"},e._l(e.user.pictures,function(e,t){return s("div",{key:t,staticClass:"display-images",style:"background-image: url("+e+")"})}),0)])]):e._e()},ft=[],mt={props:["user"]},vt=mt,gt=(s("e0bd"),Object(p["a"])(vt,pt,ft,!1,null,"0d81b18a",null)),ht=gt.exports,wt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"references"},[s("div",[s("h3",{staticClass:"header-box"},[e._v("REFERENCES")]),s("hr",{staticStyle:{margin:"0"}}),s("div",{staticClass:"filter flex space-between"},[s("div",{staticClass:"flex"},[s("h3",{staticClass:"from-guests flex align-center",class:{"filter-clicked":e.isFromGuestsClicked},on:{click:e.fromGuestsToShow}},[e._v("\n          From Guests\n          "),s("div",{staticClass:"num-from-guests"},[e._v(e._s(e.revFromGuests.length))])]),s("h3",{staticClass:"from-hosts flex align-center",class:{"filter-clicked":e.isFromHostsClicked},on:{click:e.fromHostsToShow}},[e._v("\n          From Hosts\n          "),s("div",{staticClass:"num-from-hosts"},[e._v(e._s(e.revFromHosts.length))])])]),e.checkUser?s("button",{staticClass:"btn",on:{click:e.openReview}},[e._v("Add Review")]):e._e(),e.isReviewFormOpen?s("review-form",{attrs:{currReviewToEdit:e.currReviewToEdit},on:{closeReviewForm:e.reviewFormOff}}):e._e()],1),e.isFromGuestsClicked?s("div",{staticClass:"references-container flex"},e._l(e.revFromGuests,function(t,r){return s("div",{key:r,staticClass:"reference flex flex-col",attrs:{"data-aos":"zoom-out-right"}},[s("hr",{staticStyle:{"margin-top":"0"}}),e.loggedUser&&e.loggedUser._id===t.source.id?s("div",{staticClass:"edit-delete-container flex"},[s("img",{staticClass:"btn-edit",attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553852904/fav-icons/edit.png",title:"Edit"},on:{click:function(s){return e.openReviewToEdit(t,e.user._id)}}}),s("img",{staticClass:"delete-review",attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553852904/fav-icons/trash.png",title:"\n          remove"},on:{click:function(s){return e.unpostReview(t._id,e.user._id)}}})]):e._e(),s("div",{staticClass:"review-container"},[s("div",{staticClass:"given-details flex align-center"},[s("div",{staticClass:"profile-img",style:"background-image: url("+t.source.imgUrl+")",on:{click:function(s){return e.$router.push("/userProfile/"+t.source.id)}}}),s("div",{staticClass:"dry-details flex space-between"},[s("div",[s("h5",{on:{click:function(s){return e.$router.push("/userProfile/"+t.source.id)}}},[e._v(e._s(t.source.firstName)+" "+e._s(t.source.lastName))]),s("stars-toshow",{attrs:{value:t.rating,disabled:!0}})],1),s("div",{staticClass:"created-at"},[e._v(e._s(e._f("moment")(t.createdAt,"calendar")))])])]),s("div",{staticClass:"content",class:{"read-more-clicked":t.isClicked}},[e._v(e._s(t.description))]),s("div",{staticClass:"read-more",on:{click:function(s){return e.readMore(t)}}},[e._v(e._s(t.isClicked?"Read less":"Read more"))])])])}),0):e._e(),e.isFromHostsClicked?s("div",{staticClass:"references-container flex"},e._l(e.revFromHosts,function(t,r){return s("div",{key:r,staticClass:"reference flex flex-col",attrs:{"data-aos":"zoom-out-right"}},[s("hr",{staticStyle:{"margin-top":"0"}}),e.loggedUser&&e.loggedUser._id===t.source.id?s("div",{staticClass:"edit-delete-container flex"},[s("img",{staticClass:"btn-edit",attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553852904/fav-icons/edit.png",title:"Edit"},on:{click:function(s){return e.openReviewToEdit(t,e.user._id)}}}),s("img",{staticClass:"delete-review",attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1553852904/fav-icons/trash.png",title:"\n          remove"},on:{click:function(s){return e.unpostReview(t._id,e.user._id)}}})]):e._e(),s("div",{staticClass:"review-container"},[s("div",{staticClass:"given-details flex align-center"},[s("div",{staticClass:"profile-img",style:"background-image: url("+t.source.imgUrl+")",on:{click:function(s){return e.$router.push("/userProfile/"+t.source.id)}}}),s("div",{staticClass:"dry-details flex space-between"},[s("div",[s("h5",{on:{click:function(s){return e.$router.push("/userProfile/"+t.source.id)}}},[e._v(e._s(t.source.firstName)+" "+e._s(t.source.lastName))]),s("stars-toshow",{attrs:{value:t.rating,disabled:!0}})],1),s("div",{staticClass:"created-at"},[e._v(e._s(e._f("moment")(t.createdAt,"calendar")))])])]),s("div",{staticClass:"content",class:{"read-more-clicked":t.isClicked}},[e._v(e._s(t.description))]),s("div",{staticClass:"read-more",on:{click:function(s){return e.readMore(t)}}},[e._v(e._s(t.isClicked?"Read less":"Read more"))])])])}),0):e._e()])])},bt=[],_t=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"review-form"},[s("div",{staticClass:"top flex space-between align-center"},[s("h1",[e._v("Your review about "+e._s(e.currUser.firstName))]),s("span",{on:{click:function(t){return e.$emit("closeReviewForm")}}},[e._v("×")])]),s("hr"),s("div",{staticClass:"content flex flex-col"},[s("label",{attrs:{for:""}},[e._v(e._s(e.currUser.firstName)+" was your:")]),s("div",{staticClass:"checkbox-container flex"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.review.getAsAHost,expression:"review.getAsAHost"}],ref:"inputHost",staticClass:"checkbox",attrs:{type:"checkbox",value:"Host",required:""},domProps:{checked:Array.isArray(e.review.getAsAHost)?e._i(e.review.getAsAHost,"Host")>-1:e.review.getAsAHost},on:{change:[function(t){var s=e.review.getAsAHost,r=t.target,a=!!r.checked;if(Array.isArray(s)){var n="Host",i=e._i(s,n);r.checked?i<0&&e.$set(e.review,"getAsAHost",s.concat([n])):i>-1&&e.$set(e.review,"getAsAHost",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.review,"getAsAHost",a)},e.checkHost]}}),e._v("Host\n      ")]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.review.getAsAGuest,expression:"review.getAsAGuest"}],ref:"inputGuest",staticClass:"checkbox",attrs:{type:"checkbox",value:"Guest",required:""},domProps:{checked:Array.isArray(e.review.getAsAGuest)?e._i(e.review.getAsAGuest,"Guest")>-1:e.review.getAsAGuest},on:{change:[function(t){var s=e.review.getAsAGuest,r=t.target,a=!!r.checked;if(Array.isArray(s)){var n="Guest",i=e._i(s,n);r.checked?i<0&&e.$set(e.review,"getAsAGuest",s.concat([n])):i>-1&&e.$set(e.review,"getAsAGuest",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.review,"getAsAGuest",a)},e.checkGuest]}}),e._v("Guest\n      ")])]),s("rate-stars",{on:{rate:e.setRate}}),s("label",[e._v("Your Review:")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review.description,expression:"review.description"}],attrs:{cols:"30",rows:"8",required:""},domProps:{value:e.review.description},on:{input:function(t){t.target.composing||e.$set(e.review,"description",t.target.value)}}}),s("div",{staticClass:"btn-container flex justify-center"},[s("button",{staticClass:"btn btn-send",on:{click:e.postReview}},[e._v("Send Review")])])],1)])},yt=[],Ct=s("0a0d"),xt=s.n(Ct),kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"rate-stars"},[s("form",{staticClass:"flex align-center"},[e._v("\n    Rate:\n    "),s("fieldset",{staticClass:"rating"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star5",value:"5"},domProps:{checked:e._q(e.review.rate,e._n("5"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("5"))}}}),s("label",{staticClass:"full",attrs:{for:"star5"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star4half",value:"4.5"},domProps:{checked:e._q(e.review.rate,e._n("4.5"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("4.5"))}}}),s("label",{staticClass:"half",attrs:{for:"star4half"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star4",value:"4"},domProps:{checked:e._q(e.review.rate,e._n("4"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("4"))}}}),s("label",{staticClass:"full",attrs:{for:"star4"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star3half",value:"3.5"},domProps:{checked:e._q(e.review.rate,e._n("3.5"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("3.5"))}}}),s("label",{staticClass:"half",attrs:{for:"star3half"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star3",value:"3"},domProps:{checked:e._q(e.review.rate,e._n("3"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("3"))}}}),s("label",{staticClass:"full",attrs:{for:"star3"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star2half",value:"2.5"},domProps:{checked:e._q(e.review.rate,e._n("2.5"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("2.5"))}}}),s("label",{staticClass:"half",attrs:{for:"star2half"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star2",value:"2"},domProps:{checked:e._q(e.review.rate,e._n("2"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("2"))}}}),s("label",{staticClass:"full",attrs:{for:"star2"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star1half",value:"1.5"},domProps:{checked:e._q(e.review.rate,e._n("1.5"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("1.5"))}}}),s("label",{staticClass:"half",attrs:{for:"star1half"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"star1",value:"1"},domProps:{checked:e._q(e.review.rate,e._n("1"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("1"))}}}),s("label",{staticClass:"full",attrs:{for:"star1"}}),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.review.rate,expression:"review.rate",modifiers:{number:!0}}],attrs:{type:"radio",id:"starhalf",value:"0.5"},domProps:{checked:e._q(e.review.rate,e._n("0.5"))},on:{input:e.setRate,change:function(t){e.$set(e.review,"rate",e._n("0.5"))}}}),s("label",{staticClass:"half",attrs:{for:"starhalf"}})])])])},Rt=[],Ut={props:["rating"],name:"rate-stars",data:function(){return{review:{rate:0}}},methods:{setRate:function(e){this.$emit("rate",e.target.value)}}},$t=Ut,At=(s("00e5"),Object(p["a"])($t,kt,Rt,!1,null,"a17c3b76",null)),Dt=At.exports,Ot={name:"review-form",props:["currReviewToEdit"],components:{RateStars:Dt},data:function(){return{review:null}},created:function(){this.currReviewToEdit?this.review=this.currReviewToEdit:this.review=JSON.parse(J()(this.$store.getters.emptyReview))},computed:{currUser:function(){return this.$store.getters.currUser},loggedUser:function(){return this.$store.getters.loggedUser},isValid:function(){return(this.review.getAsAHost||this.review.getAsAGuest)&&this.review.description&&this.review.rating}},methods:{setRate:function(e){this.review.rating=e},checkHost:function(){this.$refs.inputGuest.checked=!1,this.review.getAsAHost=!0,this.review.getAsAGuest=!1},checkGuest:function(){this.$refs.inputHost.checked=!1,this.review.getAsAHost=!1,this.review.getAsAGuest=!0},postReview:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loggedUser){e.next=3;break}return this.popToast("info","bottom-start",3e3,"Please Sign In To Add Review..."),e.abrupt("return");case 3:if(!this.isValid){e.next=14;break}if(this.$emit("closeReviewForm"),this.currReviewToEdit){e.next=12;break}return this.review.createdAt=xt()(),e.next=9,this.$store.dispatch({type:"postReview",review:this.review,targetId:this.currUser._id});case 9:return this.$emit("resetCurrReview"),this.popToast("success","bottom-start",3e3,"You Have Added New Revixew"),e.abrupt("return");case 12:this.$store.dispatch({type:"editReview",currUserId:this.currUser._id,review:this.review}),this.popToast("success","bottom-start",3e3,"You Have Updated Successfuly The Review");case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),popToast:function(e,t,s,r){var a=this.$swal.mixin({toast:!0,position:t,showConfirmButton:!1,timer:s});a.fire({type:e,title:r})}}},Nt=Ot,Pt=(s("a24e"),Object(p["a"])(Nt,_t,yt,!1,null,"4538ce01",null)),St=Pt.exports,qt={props:["user","loggedUser"],data:function(){return{show:!1,isFromGuestsClicked:!0,isFromHostsClicked:!1,isReviewFormOpen:!1,currReviewToEdit:null}},components:{StarsToshow:ve,ReviewForm:St},computed:{revFromGuests:function(){return this.user.references.filter(function(e){return e.getAsAHost})},revFromHosts:function(){return this.user.references.filter(function(e){return e.getAsAGuest})},checkUser:function(){return!this.loggedUser||!this.user||this.user._id!==this.loggedUser._id}},methods:{fromGuestsToShow:function(){this.isFromGuestsClicked=!0,this.isFromHostsClicked=!1},fromHostsToShow:function(){this.isFromHostsClicked=!0,this.isFromGuestsClicked=!1},unpostReview:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to remove this review?")){e.next=4;break}return e.next=3,this.$store.dispatch({type:"unpostReview",currUserId:s,reviewId:t});case 3:this.popToast("success","bottom-start",3e3,"You Have Successfuly Removed The Review");case 4:case"end":return e.stop()}},e,this)}));function t(t,s){return e.apply(this,arguments)}return t}(),readMore:function(e){e.isClicked=!e.isClicked,this.read=!this.read},openReview:function(){this.isReviewFormOpen=!0,this.currReviewToEdit=null},openReviewToEdit:function(e){this.isReviewFormOpen=!0,this.currReviewToEdit=e},reviewFormOff:function(){this.isReviewFormOpen=!1},popToast:function(e,t,s,r){var a=this.$swal.mixin({toast:!0,position:t,showConfirmButton:!1,timer:s});a.fire({type:e,title:r})}}},jt=qt,Ft=(s("1814"),Object(p["a"])(jt,wt,bt,!1,null,"44c778b2",null)),It=Ft.exports,Tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"guest-request"},[s("div",{staticClass:"top flex space-between align-center"},[s("h1",[e._v("Request To Stay")]),s("span",{on:{click:function(t){return e.$emit("hideRequestForm")}}},[e._v("×")])]),s("hr"),s("div",{staticClass:"content flex flex-col"},[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!1,model:e.info}},[s("b-form-group",{staticClass:"input",attrs:{required:""}},[s("label",{attrs:{for:"date"}},[e._v("Choose dates:")]),s("v-date-picker",{attrs:{mode:"range","show-caps":""},model:{value:e.info.selectedDate,callback:function(t){e.$set(e.info,"selectedDate",t)},expression:"info.selectedDate"}})],1),s("b-form-group",{staticClass:"input",attrs:{required:""}},[s("b-form-textarea",{attrs:{id:"textarea",placeholder:"Write a Message...",rows:"3","max-rows":"6",required:""},model:{value:e.info.description,callback:function(t){e.$set(e.info,"description",t)},expression:"info.description"}})],1),s("div",{staticClass:"btn-container flex justify-center"},[s("button",{staticClass:"btn",on:{click:e.onSend}},[e._v("Send")])])],1)],1)])},Ht=[],Et={getTimeStamp:Lt};function Lt(e){return new Date(e).getTime()}var Gt={name:"guest-request",data:function(){return{info:{selectedDate:{start:xt()(),end:xt()()+2592e5},description:""}}},methods:{onSend:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.getLoggedUser){e.next=3;break}return P.$emit("popToast","info","bottom-start",3e3,"Please sign in to continue..."),e.abrupt("return");case 3:if(this.isFormValid){e.next=6;break}return P.$emit("popToast","info","bottom-start",3e3,"Please complete all fields to continue..."),e.abrupt("return");case 6:return t=this.$store.getters.emptyRequest,t.arrivalDate=this.info.selectedDate.start,t.leavingDate=this.info.selectedDate.end,t.description=this.info.description,this.$emit("hideRequestForm"),e.next=13,this.$store.dispatch({type:"sendRequest",request:t,targetId:this.getCurrUser._id});case 13:P.$emit("popToast","info","bottom-start",3e3,"Your request was sent!");case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser},getCurrUser:function(){return this.$store.getters.currUser},isFormValid:function(){return this.info.selectedDate.start&&this.info.selectedDate.end&&this.info.description}}},Mt=Gt,Wt=(s("ebe2"),Object(p["a"])(Mt,Tt,Ht,!1,null,"7d3b612c",null)),Bt=Wt.exports,Yt=s("0a63"),zt=s.n(Yt),Kt={name:"user-profile",data:function(){return{isNavInDisplay:!1,showRequestForm:!1,window:{width:0,height:0}}},created:function(){var e=this.$route.params.userId;this.$store.dispatch({type:"loadUser",userId:e});var t=this;window.addEventListener("scroll",function(e){var s=window.scrollY;s>310?t.narrowNav(!0):t.narrowNav(!1)});window.addEventListener("resize",this.handleResize),this.handleResize()},computed:{currUser:function(){return this.$store.getters.currUser},loggedUser:function(){return this.$store.getters.loggedUser}},methods:{narrowNav:function(e){this.isNavInDisplay=e},revealRequestForm:function(){this.showRequestForm=!0},hideRequestForm:function(){this.showRequestForm=!1},handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight}},destroyed:function(){window.removeEventListener("resize",this.handleResize)},watch:{"$route.params.userId":function(e){this.$store.dispatch({type:"loadUser",userId:e})}},components:{ProfileAbout:nt,ProfileMyHome:dt,ProfilePictures:ht,ProfileReferences:It,GuestRequest:Bt,Carousel:Yt["Carousel"],Slide:Yt["Slide"]}},Jt=Kt,Vt=(s("6d55"),Object(p["a"])(Jt,Ze,Qe,!1,null,"10cf68ba",null)),Xt=Vt.exports,Zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("section",{staticClass:"edit-section flex justify-center"},[s("div",{staticClass:"side-profile"},[s("img",{staticClass:"profile-img",attrs:{src:e.getLoggedUser.imgUrl,alt:""}}),s("div",{staticClass:"profile-name"},[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))]),s("div",{staticClass:"profile-loc"},[e._v(e._s(e.user.address.city?e.user.address.city+",":"")+" "+e._s(e.user.address.country))]),s("hr"),s("input",{staticClass:"input-file",attrs:{name:"file",id:"file",type:"file"},on:{change:e.updateImg}}),s("label",{attrs:{for:"file"}},[e._v("Upload Picture")])]),s("div",{staticClass:"edit-form form-container flex align-center flex-col"},[s("form",{staticClass:"form",attrs:{action:""}},[s("h2",[e._v(e._s(e.user.firstName)+" "+e._s(e.user.lastName))]),s("div",{staticClass:"about-edit"},[s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"hosting"}},[e._v("Hosting Availability: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.isHosting,expression:"user.isHosting"}],staticClass:"form-input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user,"isHosting",t.target.multiple?s:s[0])}}},[s("option",{domProps:{value:!0}},[e._v("Accepting Guests")]),s("option",{domProps:{value:!1}},[e._v("Not Accepting Guests")])])]),e.user.isHosting?s("div",[s("div",{staticClass:"form-item flex space-between"},[s("label",[e._v("Street Name and House Number: ")]),s("gmap-autocomplete",{staticClass:"form-input",on:{place_changed:e.setFullAddres}})],1),s("div",{staticClass:"form-item flex space-between"},[s("label",[e._v("One Line Description: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lineDescription,expression:"user.lineDescription"}],staticClass:"form-input",domProps:{value:e.user.lineDescription},on:{input:function(t){t.target.composing||e.$set(e.user,"lineDescription",t.target.value)}}})])]):e._e(),s("hr"),s("div",[s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"language"}},[e._v("Language/s: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.languages,expression:"user.languages"}],staticClass:"form-input",attrs:{list:"languages",name:"language"},domProps:{value:e.user.languages},on:{input:function(t){t.target.composing||e.$set(e.user,"languages",t.target.value)}}}),s("datalist",{attrs:{id:"languages",multiple:"",size:"5"}},e._l(e.languages,function(t,r){return s("option",{key:r,domProps:{value:t.name},on:{select:function(s){e.user.languages+=t}}},[e._v(e._s(t.name))])}),0)]),s("div",{staticClass:"form-item flex space-between"},[s("label",[e._v("Address: ")]),s("gmap-autocomplete",{staticClass:"form-input",on:{place_changed:e.setAddres}})],1),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"occupation"}},[e._v("Occupation: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.occupation,expression:"user.occupation"}],staticClass:"form-input",attrs:{type:"text",placeholder:"Enter occupation"},domProps:{value:e.user.occupation},on:{input:function(t){t.target.composing||e.$set(e.user,"occupation",t.target.value)}}})]),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"education"}},[e._v("Education: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.education,expression:"user.education"}],staticClass:"form-input",attrs:{type:"text",placeholder:"Enter education"},domProps:{value:e.user.education},on:{input:function(t){t.target.composing||e.$set(e.user,"education",t.target.value)}}})]),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"gender"}},[e._v("Gender: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.gender,expression:"user.gender"}],staticClass:"form-input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user,"gender",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Male"}},[e._v("Male")]),s("option",{attrs:{value:"Female"}},[e._v("Female")])])])])]),s("hr"),s("div",{staticClass:"home-edit"},[s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"room"}},[e._v("Max Number of Guests: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.guestCapacity,expression:"user.placeDetails.guestCapacity"}],staticClass:"form-input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user.placeDetails,"guestCapacity",t.target.multiple?s:s[0])}}},e._l(10,function(t){return s("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}),0)]),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"room"}},[e._v("Gender preference: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.guestGenderPref,expression:"user.placeDetails.guestGenderPref"}],staticClass:"form-input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user.placeDetails,"guestGenderPref",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"Any"}},[e._v("Any")]),s("option",{attrs:{value:"Male"}},[e._v("Male")]),s("option",{attrs:{value:"Female"}},[e._v("Female")])])]),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"Miscellaneous"}},[e._v("\n            Miscellaneous\n            : \n          ")]),s("ul",{staticClass:"clean-list"},[s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.isPetFriendly,expression:"user.placeDetails.isPetFriendly"}],attrs:{type:"checkbox",value:"pet"},domProps:{checked:e.user.placeDetails.isPetFriendly,checked:Array.isArray(e.user.placeDetails.isPetFriendly)?e._i(e.user.placeDetails.isPetFriendly,"pet")>-1:e.user.placeDetails.isPetFriendly},on:{change:function(t){var s=e.user.placeDetails.isPetFriendly,r=t.target,a=!!r.checked;if(Array.isArray(s)){var n="pet",i=e._i(s,n);r.checked?i<0&&e.$set(e.user.placeDetails,"isPetFriendly",s.concat([n])):i>-1&&e.$set(e.user.placeDetails,"isPetFriendly",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.user.placeDetails,"isPetFriendly",a)}}}),e._v(" Pet Friendly\n            ")]),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.isKidFriendly,expression:"user.placeDetails.isKidFriendly"}],attrs:{type:"checkbox",value:"kids"},domProps:{checked:Array.isArray(e.user.placeDetails.isKidFriendly)?e._i(e.user.placeDetails.isKidFriendly,"kids")>-1:e.user.placeDetails.isKidFriendly},on:{change:function(t){var s=e.user.placeDetails.isKidFriendly,r=t.target,a=!!r.checked;if(Array.isArray(s)){var n="kids",i=e._i(s,n);r.checked?i<0&&e.$set(e.user.placeDetails,"isKidFriendly",s.concat([n])):i>-1&&e.$set(e.user.placeDetails,"isKidFriendly",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.user.placeDetails,"isKidFriendly",a)}}}),e._v(" Kid Friendly\n            ")]),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.isSmokingAllowed,expression:"user.placeDetails.isSmokingAllowed"}],attrs:{type:"checkbox",value:"smoking"},domProps:{checked:Array.isArray(e.user.placeDetails.isSmokingAllowed)?e._i(e.user.placeDetails.isSmokingAllowed,"smoking")>-1:e.user.placeDetails.isSmokingAllowed},on:{change:function(t){var s=e.user.placeDetails.isSmokingAllowed,r=t.target,a=!!r.checked;if(Array.isArray(s)){var n="smoking",i=e._i(s,n);r.checked?i<0&&e.$set(e.user.placeDetails,"isSmokingAllowed",s.concat([n])):i>-1&&e.$set(e.user.placeDetails,"isSmokingAllowed",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.user.placeDetails,"isSmokingAllowed",a)}}}),e._v(" Smoking Allowed\n            ")]),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.isDisabledAccessible,expression:"user.placeDetails.isDisabledAccessible"}],attrs:{type:"checkbox",value:"disabled"},domProps:{checked:Array.isArray(e.user.placeDetails.isDisabledAccessible)?e._i(e.user.placeDetails.isDisabledAccessible,"disabled")>-1:e.user.placeDetails.isDisabledAccessible},on:{change:function(t){var s=e.user.placeDetails.isDisabledAccessible,r=t.target,a=!!r.checked;if(Array.isArray(s)){var n="disabled",i=e._i(s,n);r.checked?i<0&&e.$set(e.user.placeDetails,"isDisabledAccessible",s.concat([n])):i>-1&&e.$set(e.user.placeDetails,"isDisabledAccessible",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.user.placeDetails,"isDisabledAccessible",a)}}}),e._v(" Disabled accessible\n            ")])])]),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"room"}},[e._v("How many pets?: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.pets,expression:"user.placeDetails.pets"}],staticClass:"form-input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user.placeDetails,"pets",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[e._v("None")]),s("option",{attrs:{value:"1"}},[e._v("1")]),s("option",{attrs:{value:"2"}},[e._v("2")]),s("option",{attrs:{value:"3"}},[e._v("3")]),s("option",{attrs:{value:"More Than 3"}},[e._v("More than 3")])])]),s("div",{staticClass:"form-item flex space-between"},[s("label",{attrs:{for:"room"}},[e._v("How many kids?: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.placeDetails.children,expression:"user.placeDetails.children"}],staticClass:"form-input",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.user.placeDetails,"children",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"0"}},[e._v("None")]),s("option",{attrs:{value:"1"}},[e._v("1")]),s("option",{attrs:{value:"2"}},[e._v("2")]),s("option",{attrs:{value:"3"}},[e._v("3")]),s("option",{attrs:{value:"More Than 3"}},[e._v("More than 3")])])])]),s("hr"),s("button",{staticClass:"btn",on:{click:e.onSave}},[e._v("Save")]),s("button",{staticClass:"btn btn-empty",on:{click:function(t){return e.$router.push("/userProfile/"+e.user._id)}}},[e._v("Cancel")])])])]):e._e()},Qt=[],es=s("e13d"),ts={name:"edit-profile",data:function(){return{user:null,searchWord:""}},created:function(){this.languages=es.all(),this.user=JSON.parse(J()(this.getLoggedUser))},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser}},watch:{getLoggedUser:function(e,t){this.user=JSON.parse(J()(this.getLoggedUser))}},methods:{setAddres:function(e){var t=e.formatted_address,s=t.indexOf(",");if(-1!==s){var r=t.substr(0,s),a=t.substr(s+2,t.length-1);this.user.address={city:r,country:a}}else{var n="",i=t;this.user.address={city:n,country:i}}},setFullAddres:function(e){this.user.placeDetails.mapAddress=e.formatted_address},updateImg:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s,r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=this.$route.params.userId,r=t.target.files[0],a="".concat(this.getLoggedUser.firstName,"-").concat(this.getLoggedUser.lastName).toLowerCase(),n="profile-imgs/".concat(a,"/").concat(a),e.next=6,this.$store.dispatch({type:"updatePortrait",imgFile:r,imgPath:n,targetId:s});case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onSave:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.user.isHosting){e.next=7;break}if(!this.user.placeDetails.mapAddress||!this.user.lineDescription){e.next=5;break}return e.next=4,this.$store.dispatch({type:"updateLoggedUser",user:this.user});case 4:this.$router.push("/userProfile/"+this.user._id);case 5:e.next=10;break;case 7:return e.next=9,this.$store.dispatch({type:"updateLoggedUser",user:this.user});case 9:this.$router.push("/userProfile/"+this.user._id);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},ss=ts,rs=(s("b0de"),Object(p["a"])(ss,Zt,Qt,!1,null,"8a3961f8",null)),as=rs.exports,ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"schedule-manager"},[s("div",{staticClass:"bg-container"},[s("div",{staticClass:"nav-container"},[e.getCurrUser?s("div",{staticClass:"nav"},[s("router-link",{attrs:{to:"/userProfile/"+e.getCurrUser._id+"/manager/managerGuests"}},[s("div",{staticClass:"nav-item",class:{isSelected:e.navItemSelected.guests},on:{click:function(t){return e.whoSelected(!0,!1,!1)}}},[e._v("Guests")])]),s("router-link",{attrs:{to:"/userProfile/"+e.getCurrUser._id+"/manager/managerHosts"}},[s("div",{staticClass:"nav-item",class:{isSelected:e.navItemSelected.hosts},on:{click:function(t){return e.whoSelected(!1,!0,!1)}}},[e._v("Hosts")])]),s("router-link",{attrs:{to:"/userProfile/"+e.getCurrUser._id+"/manager/managerInbox"}},[s("div",{staticClass:"nav-item",class:{isSelected:e.navItemSelected.inbox},on:{click:function(t){return e.whoSelected(!1,!1,!0)}}},[e._v("Inbox")])])],1):e._e()])]),s("router-view",{staticClass:"view"})],1)},is=[],os={data:function(){return{navItemSelected:{guests:!0,hosts:!1,inbox:!1}}},created:function(){var e=this.$route.params.userId;this.$store.dispatch({type:"loadUser",userId:e}),this.getCurrUser&&this.$router.push("/userProfile/"+this.getCurrUser._id+"/manager/managerInbox")},methods:{handleSelect:function(e,t){console.log(e,t)},whoSelected:function(e,t,s){this.navItemSelected.guests=e,this.navItemSelected.hosts=t,this.navItemSelected.inbox=s}},computed:{getCurrUser:function(){return this.$store.getters.currUser}},watch:{getCurrUser:function(e,t){this.$router.push("/userProfile/"+this.getCurrUser._id+"/manager/managerInbox")}}},cs=os,us=(s("4ab9"),Object(p["a"])(cs,ns,is,!1,null,"b35fa2d4",null)),ls=us.exports,ds=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"schedule-guests"},[e.getLoggedUser?s("div",{staticClass:"flex-container clean-list"},[0===e.getLoggedUser.acceptedRequests.length?s("h2",[e._v("No Guests Yet")]):s("div",{staticClass:"info-container flex flex-row justify-center"},[s("div",{staticClass:"list-container flex flex-col"},e._l(e.getLoggedUser.acceptedRequests,function(e,t){return s("router-link",{key:e._id,staticClass:"guest-list-item",staticStyle:{margin:"2px"},attrs:{to:"/userProfile/"+e.source.id}},[s("user-preview-guest",{attrs:{request:e,idx:t+1}})],1)}),1),s("div",{staticClass:"calendar-wrapper"},[s("v-calendar",{staticClass:"calendar",attrs:{attributes:e.attrs}})],1)])]):e._e()])},ps=[],fs=(s("ac6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("div",{staticClass:"card-container flex space-between flex-col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"main"},[s("div",{staticClass:"user"},[s("div",{staticClass:"avatar",style:"background-image: url("+e.request.source.imgUrl+")"}),s("div",{staticClass:"user-details"},[s("h3",[e._v(e._s(e.request.source.firstName)+" "+e._s(e.request.source.lastName))]),s("span",{staticClass:"location"},[s("span",[e._v(e._s(e.request.source.address.city)+", "+e._s(e.request.source.address.country))])]),s("span",{staticClass:"date"}),s("span",{staticClass:"date"},[s("span",[e._v("Arrival Date: "+e._s(e.request.arrivalDate))])]),s("span",{staticClass:"date"},[s("span",[e._v("Leaving Date: "+e._s(e.request.leavingDate))])])])])])])])])}),ms=[],vs={props:["request"],components:{StarsToshow:ve},computed:{getDateFormatted:function(){return moment.locale("12-25-1995")}},filters:{time:function(e){}}},gs=vs,hs=(s("5c49"),Object(p["a"])(gs,fs,ms,!1,null,"63bb42b8",null)),ws=hs.exports,bs=(s("98fc"),{components:{UserPreviewGuest:ws},data:function(){return{cmpChange:!1,keyId:1,attrs:[]}},computed:{getCurrUser:function(){return this.$store.getters.currUser},getLoggedUser:function(){return this.$store.getters.loggedUser},watchFunc:function(){return"".concat(this.getCurrUser,"|").concat(this.cmpChange)}},methods:{addDatesToCal:function(){var e=this;this.getCurrUser&&this.getCurrUser.acceptedRequests.forEach(function(t){e.attrs.push({key:e.keyId++,highlight:{backgroundColor:"#ff8080"},contentStyle:{color:"#fafafa"},popover:{label:"".concat(t.source.firstName," ").concat(t.source.lastName," staying over"),img:"".concat(t.source.imgUrl)},dates:[{start:t.arrivalDate,end:t.leavingDate}]})})}},mounted:function(){this.cmpChange=!0},destroyed:function(){this.cmpChange=!1},watch:{watchFunc:function(){this.addDatesToCal()}}}),_s=bs,ys=(s("f6fb"),Object(p["a"])(_s,ds,ps,!1,null,"527543cd",null)),Cs=ys.exports,xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"schedule-hosts"},[e.getLoggedUser?s("div",{staticClass:"flex-container clean-list"},[0===e.getLoggedUser.acceptedResponses.length?s("h2",[e._v("No Hosts Yet")]):s("div",{staticClass:"page-container flex flex-row"},[s("div",{staticClass:"list-container flex flex-col"},e._l(e.getLoggedUser.acceptedResponses,function(e,t){return s("router-link",{key:e._id,staticClass:"guest-list-item",staticStyle:{margin:"2px"},attrs:{to:"/userProfile/"+e.source.id}},[s("user-preview-host",{attrs:{response:e,idx:t+1}})],1)}),1),s("div",{staticClass:"info-container flex flex-col"},[s("div",{staticClass:"calendar-wrapper"},[s("v-calendar",{staticClass:"calendar",attrs:{attributes:e.attrs}})],1),s("google-map")],1)])]):e._e()])},ks=[],Rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.response?s("li",[s("div",{staticClass:"card-container flex space-between flex-col"},[s("div",{staticClass:"card"},[s("div",{staticClass:"main"},[s("div",{staticClass:"user"},[s("div",{staticClass:"avatar",style:"background-image: url("+e.response.source.imgUrl+")"}),s("div",{staticClass:"user-details"},[s("h3",[e._v(e._s(e.response.source.firstName)+" "+e._s(e.response.source.lastName))]),s("span",{staticClass:"location"},[s("span",[e._v(e._s(e.response.source.address.city)+", "+e._s(e.response.source.address.country))])]),s("span",{staticClass:"date"}),s("span",{staticClass:"date"},[s("span",[e._v("Arrival Date: "+e._s(e.response.arrivalDate))])]),s("span",{staticClass:"date"},[s("span",[e._v("Leaving Date: "+e._s(e.response.leavingDate))])])])])])])])]):e._e()},Us=[],$s={props:["response"],components:{StarsToshow:ve},computed:{getDateFormatted:function(){return moment.locale("12-25-1995")}},filters:{time:function(e){}}},As=$s,Ds=(s("5161"),Object(p["a"])(As,Rs,Us,!1,null,"faf37d2c",null)),Os=Ds.exports,Ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"google-map"},[s("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"275px"},attrs:{center:e.center,zoom:15,"map-type-id":"terrain"}},e._l(e.markers,function(t,r){return s("GmapMarker",{key:r,attrs:{position:t.position,clickable:!0,draggable:!0},on:{click:function(s){return e.setCenter(t.position)}}})}),1)],1)},Ps=[],Ss={name:"GoogleMap",data:function(){return{center:{lat:32.088007,lng:34.8031678},markers:[{position:{lat:32.088007,lng:34.8031678}}],places:[],currentPlace:null}},mounted:function(){this.geolocate()},methods:{addMarker:function(e){if(this.currentPlace=e,this.currentPlace){var t={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.markers.push({position:t}),this.places.push(this.currentPlace),this.center=t,this.currentPlace=null}},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition(function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}})},setCenter:function(e){this.$refs.mapRef.$mapPromise.then(function(t){t.panTo(e)})}}},qs=Ss,js=(s("84cc"),Object(p["a"])(qs,Ns,Ps,!1,null,"128a24b0",null)),Fs=js.exports,Is={components:{UserPreviewHost:Os,GoogleMap:Fs},data:function(){return{cmpChange:!1,keyId:1,attrs:[]}},computed:{getCurrUser:function(){return this.$store.getters.currUser},getLoggedUser:function(){return this.$store.getters.loggedUser},watchFunc:function(){return"".concat(this.getCurrUser,"|").concat(this.cmpChange)}},methods:{addDatesToCal:function(){var e=this;this.getCurrUser&&this.getCurrUser.acceptedResponses.forEach(function(t){e.attrs.push({key:e.keyId++,highlight:{backgroundColor:"#ff8080"},contentStyle:{color:"#fafafa"},popover:{label:"Staying with ".concat(t.source.firstName," ").concat(t.source.lastName),img:"".concat(t.source.imgUrl)},dates:[{start:t.arrivalDate,end:t.leavingDate}]})})}},mounted:function(){this.cmpChange=!0},destroyed:function(){this.cmpChange=!1},watch:{watchFunc:function(){this.addDatesToCal()}}},Ts=Is,Hs=(s("4c98"),Object(p["a"])(Ts,xs,ks,!1,null,"6b1695d2",null)),Es=Hs.exports,Ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"user-inbox"},[s("h2",[e._v("INBOX")]),s("div",{staticClass:"inbox-container flex flex-row"},[e.getLoggedUser?s("div",{staticClass:"main-content"},[0===e.getLoggedUser.pendingRequests.length?s("h3",[e._v("Your Inbox Is Empty...")]):e._l(e.getLoggedUser.pendingRequests,function(t,r){return s("div",{key:r,staticClass:"card",class:{animation:t.isAccepted,fadeOutLeft:t.isAccepted}},[s("div",{staticClass:"top flex align-center",on:{click:function(e){t.isOpen=!t.isOpen}}},[s("img",{staticStyle:{width:"20px",height:"20px"},attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1554330254/fav-icons/request.png"}}),e._v("\n           \n          "),s("div",{staticStyle:{color:"#3256bf"}},[e._v("Messages ")]),s("div",[e._v("· "+e._s(e._f("moment")(t.createdAt,"from","now")))]),e._v(" \n          "),t.isOpen?e._e():s("img",{staticClass:"arrow",attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1554383713/fav-icons/sort-down.png"}}),t.isOpen?s("img",{staticClass:"arrow",attrs:{src:"https://res.cloudinary.com/dcl4oabi3/image/upload/v1554383713/fav-icons/sort-up.png"}}):e._e()]),s("div",{staticClass:"content flex space-between"},[s("div",[s("div",{staticClass:"name"},[e._v(e._s(t.source.firstName)+" "+e._s(t.source.lastName))]),s("div",{staticClass:"date"},[e._v("Has requested to stay with you from "+e._s(e._f("moment")(t.arrivalDate,"calendar"))+" To "+e._s(e._f("moment")(t.leavingDate,"calendar")))]),s("div",{staticClass:"msg"},[e._v(e._s(t.description))])]),s("img",{staticClass:"user-img",style:"background-image: url("+t.source.imgUrl+")",on:{click:function(s){return e.$router.push("/userProfile/"+t.source.id)}}})]),t.isOpen?s("div",{staticClass:"btns flex"},[s("div",{on:{click:function(s){return e.acceptRequest(t)}}},[e._v("ACCEPT")]),s("div",{on:{click:function(s){return e.declineRequest(t)}}},[e._v("DECLINE")])]):e._e()])})],2):e._e()])])},Gs=[],Ms={data:function(){return{requests:[]}},computed:{getLoggedUser:function(){return this.$store.getters.loggedUser}},methods:{acceptRequest:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"acceptRequest",request:t,targetId:this.getLoggedUser._id});case 2:return s=this.$store.getters.emptyResponse,s.arrivalDate=t.arrivalDate,s.leavingDate=t.leavingDate,e.next=7,this.$store.dispatch({type:"sendResponse",response:s,targetId:t.source.id});case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),declineRequest:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch({type:"declineRequest",request:t,targetId:this.getLoggedUser._id});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},Ws=Ms,Bs=(s("4f17"),Object(p["a"])(Ws,Ls,Gs,!1,null,"4155a8f2",null)),Ys=Bs.exports;r["default"].use(I["a"]);var zs=new I["a"]({scrollBehavior:function(e,t,s){return{y:0}},routes:[{path:"/",name:"home",component:$e},{path:"/about",name:"about",component:Pe},{path:"/signup",name:"signup",component:Xe},{path:"/users/:country&:city",name:"users",component:Be},{path:"/userProfile/:userId",name:"userProfile",component:Xt},{path:"/userProfile/:userId/edit",name:"editProfile",component:as},{path:"/userProfile/:userId/manager",name:"manager",component:ls,children:[{path:"managerGuests",name:"managerGuests",component:Cs},{path:"managerHosts",component:Es},{path:"managerInbox",component:Ys}]}]}),Ks=s("2f62"),Js=(s("20d6"),s("bc3a")),Vs=s.n(Js),Xs=Vs.a.create({withCredentials:!0}),Zs="/user";function Qs(){return er.apply(this,arguments)}function er(){return er=Object(je["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/checkLogged"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)})),er.apply(this,arguments)}function tr(e){return sr.apply(this,arguments)}function sr(){return sr=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/login"),t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}},e)})),sr.apply(this,arguments)}function rr(){return ar.apply(this,arguments)}function ar(){return ar=Object(je["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/logout"));case 2:case"end":return e.stop()}},e)})),ar.apply(this,arguments)}function nr(e,t){return ir.apply(this,arguments)}function ir(){return ir=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="?country=".concat(s,"&city=").concat(t),e.next=3,Xs.get("".concat(Zs).concat(r));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)})),ir.apply(this,arguments)}function or(e){return cr.apply(this,arguments)}function cr(){return cr=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.get("".concat(Zs,"/").concat(t));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}},e)})),cr.apply(this,arguments)}function ur(e){return lr.apply(this,arguments)}function lr(){return lr=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.post("".concat(Zs),t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}},e)})),lr.apply(this,arguments)}function dr(e,t){return pr.apply(this,arguments)}function pr(){return pr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/").concat(s,"/pendingRequest"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)})),pr.apply(this,arguments)}function fr(e,t){return mr.apply(this,arguments)}function mr(){return mr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.delete("".concat(Zs,"/").concat(s,"/pendingRequest/").concat(t._id));case 2:return e.next=4,Xs.put("".concat(Zs,"/").concat(s,"/acceptedRequest"),t);case 4:case"end":return e.stop()}},e)})),mr.apply(this,arguments)}function vr(e,t){return gr.apply(this,arguments)}function gr(){return gr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.delete("".concat(Zs,"/").concat(s,"/pendingRequest/").concat(t));case 2:case"end":return e.stop()}},e)})),gr.apply(this,arguments)}function hr(e,t){return wr.apply(this,arguments)}function wr(){return wr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/").concat(s,"/acceptedResponse"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)})),wr.apply(this,arguments)}function br(e,t){return _r.apply(this,arguments)}function _r(){return _r=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/").concat(s,"/review"),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)})),_r.apply(this,arguments)}function yr(e,t){return Cr.apply(this,arguments)}function Cr(){return Cr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.delete("".concat(Zs,"/").concat(t,"/review/").concat(s));case 2:case"end":return e.stop()}},e)})),Cr.apply(this,arguments)}function xr(e,t){return kr.apply(this,arguments)}function kr(){return kr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/").concat(t,"/review/").concat(s._id),s);case 2:case"end":return e.stop()}},e)})),kr.apply(this,arguments)}function Rr(e){return Ur.apply(this,arguments)}function Ur(){return Ur=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/").concat(t._id),t);case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}},e)})),Ur.apply(this,arguments)}function $r(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xs.put("".concat(Zs,"/").concat(s,"/img"),{imgUrl:t});case 2:case"end":return e.stop()}},e)})),Ar.apply(this,arguments)}var Dr={checkLogged:Qs,login:tr,logout:rr,query:nr,getById:or,add:ur,sendRequest:dr,postReview:br,unpostReview:yr,editReview:xr,update:Rr,updatePortrait:$r,acceptRequest:fr,declineRequest:vr,sendResponse:hr},Or=s("8055"),Nr=s.n(Or),Pr="";function Sr(e){return Nr()(Pr,{query:"userId=".concat(e)})}var qr={connect:Sr},jr=Vs.a.create({withCredentials:!0}),Fr="/cloud";function Ir(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="?imgPath=".concat(s),a=new FormData,a.append("file",t),e.next=5,jr.post("".concat(Fr,"/").concat(r),a,{headers:{"Content-Type":"multipart/form-data"}});case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}},e)})),Tr.apply(this,arguments)}var Hr={uploadPortrait:Ir},Er={state:{currSocket:null,loggedUser:null,currUser:null,currUsers:[],homeUsers:[]},getters:{currUsers:function(e){return e.currUsers},currUser:function(e){return e.currUser},loggedUser:function(e){return e.loggedUser},homeUsers:function(e){return e.homeUsers},emptyRequest:function(e){return{isAccepted:!1,isOpen:!1,createdAt:xt()(),source:{id:e.loggedUser._id,firstName:e.loggedUser.firstName,lastName:e.loggedUser.lastName,imgUrl:e.loggedUser.imgUrl,address:e.loggedUser.address}}},emptyResponse:function(e){return{isAccepted:!0,source:{id:e.loggedUser._id,firstName:e.loggedUser.firstName,lastName:e.loggedUser.lastName,imgUrl:e.loggedUser.imgUrl,address:e.loggedUser.address,placeDetails:e.loggedUser.placeDetails}}},emptyReview:function(e){return{isClicked:!1,getAsAHost:!1,getAsAGuest:!1,rating:0,description:"",source:{id:e.loggedUser._id,firstName:e.loggedUser.firstName,lastName:e.loggedUser.lastName,imgUrl:e.loggedUser.imgUrl,address:e.loggedUser.address}}}},mutations:{setLoggedUser:function(e,t){var s=t.user;e.loggedUser=s},setCurrUsers:function(e,t){var s=t.users;e.currUsers=s},setCurrUser:function(e,t){var s=t.user;e.currUser=s},setHomeUser:function(e,t){var s=t.user;e.homeUsers.length<4&&e.homeUsers.push(s)},setPortrait:function(e,t){var s=t.imgUrl;e.loggedUser.imgUrl=s},addPendingRequest:function(e,t){var s=t.request;e.loggedUser.pendingRequests.push(s)},addAcceptedRequest:function(e,t){var s=t.request;e.loggedUser.acceptedRequests.push(s)},addAcceptedResponse:function(e,t){var s=t.response;e.loggedUser.acceptedResponses.push(s)},addReview:function(e,t){var s=t.review;e.currUser.references.push(s)},deletePendingRequest:function(e,t){var s=t.requestId,r=e.loggedUser.pendingRequests.findIndex(function(e){return e._id===s});e.loggedUser.pendingRequests.splice(r,1)},deleteReview:function(e,t){var s=t.reviewId,r=e.currUser.references.findIndex(function(e){return s===e._id});e.currUser.references.splice(r,1)},updateReview:function(e,t){var s=t.review,r=e.currUser.references.findIndex(function(e){return s._id===e._id});e.currUser.references.splice(r,1,s)},updateLoggedUser:function(e,t){var s=t.user,r=e.currUsers.findIndex(function(e){return e._id===s._id});e.currUsers.splice(r,1,s)},initCurrSocket:function(e,t){var s=this,r=t.user;if(r){var a=r._id;e.currSocket=qr.connect(a),e.currSocket.on("sendRequest",function(e){s.commit({type:"addPendingRequest",request:e}),P.$emit("popToast","info","bottom-start",5e3,"You got a new request! for more check out your manager inbox...")}),e.currSocket.on("sendResponse",function(e){s.commit({type:"addAcceptedResponse",response:e}),P.$emit("popToast","info","bottom-start",5e3,"".concat(e.source.firstName," ").concat(e.source.lastName," approved your request! for more check out your manager inbox..."))}),e.currSocket.on("postReview",function(t,r){e.currUser._id===r&&s.commit({type:"addReview",review:t}),e.loggedUser._id===r&&P.$emit("popToast","info","bottom-start",5e3,"You got a new reference! for more check out your profile...")}),e.currSocket.on("unpostReview",function(t,r){e.currUser._id===r&&s.commit({type:"deleteReview",reviewId:t})}),e.currSocket.on("editReview",function(t,r){e.currUser._id===r&&s.commit({type:"updateReview",review:t})})}}},actions:{checkLogged:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Dr.checkLogged();case 2:return s=e.sent,s&&(t.commit({type:"setLoggedUser",user:s}),t.commit({type:"initCurrSocket",user:s})),e.abrupt("return",s);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.credentials,e.next=3,Dr.login(r);case 3:return a=e.sent,a&&(t.commit({type:"setLoggedUser",user:a}),t.commit({type:"initCurrSocket",user:a})),e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Dr.logout();case 2:t.state.loggedUser=null,t.state.currSocket.disconnect(),t.state.currSocket=null;case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),signup:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.credentials,e.next=3,Dr.add(r);case 3:return a=e.sent,n=a.email,i=a.password,e.next=8,t.dispatch({type:"login",credentials:{email:n,password:i}});case 8:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),loadUsers:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.city,a=s.country,e.next=3,Dr.query(r,a);case 3:n=e.sent,t.commit({type:"setCurrUsers",users:n});case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),loadUser:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.userId,e.next=3,Dr.getById(r);case 3:a=e.sent,t.commit({type:"setCurrUser",user:a});case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),loadHomeUser:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.userId,e.next=3,Dr.getById(r);case 3:a=e.sent,t.commit({type:"setHomeUser",user:a});case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),sendRequest:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.request,a=s.targetId,r.arrivalDate=Et.getTimeStamp(r.arrivalDate),r.leavingDate=Et.getTimeStamp(r.leavingDate),e.next=5,Dr.sendRequest(r,a);case 5:n=e.sent,t.state.currSocket.emit("sendRequest",a,n);case 7:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),cancelRequest:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s.request,s.targetId;case 1:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),acceptRequest:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.request,a=s.targetId,e.next=3,Dr.acceptRequest(r,a);case 3:r.isAccepted=!0,setTimeout(function(){t.commit({type:"deletePendingRequest",requestId:r._id}),t.commit({type:"addAcceptedRequest",request:r})},1e3);case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),declineRequest:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.request,a=s.targetId,e.next=3,Dr.declineRequest(r._id,a);case 3:r.isAccepted=!0,setTimeout(function(){t.commit({type:"deletePendingRequest",requestId:r._id})},1e3);case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),sendResponse:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.response,a=s.targetId,e.next=3,Dr.sendResponse(r,a);case 3:n=e.sent,t.state.currSocket.emit("sendResponse",a,n);case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),postReview:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.review,a=s.targetId,e.next=3,Dr.postReview(r,a);case 3:n=e.sent,t.state.currSocket.emit("postReview",n,a);case 5:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),unpostReview:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.currUserId,a=s.reviewId,e.next=3,Dr.unpostReview(r,a);case 3:t.state.currSocket.emit("unpostReview",a,r);case 4:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),editReview:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.currUserId,a=s.review,e.next=3,Dr.editReview(r,a);case 3:t.state.currSocket.emit("editReview",a,r);case 4:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),updateLoggedUser:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.user,e.next=3,Dr.update(r);case 3:t.commit({type:"updateLoggedUser",user:r});case 4:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),updatePortrait:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.imgFile,a=s.imgPath,n=s.targetId,e.next=3,Hr.uploadPortrait(r,a);case 3:return i=e.sent,e.next=6,Dr.updatePortrait(i,n);case 6:t.commit({type:"setPortrait",imgUrl:i});case 7:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}()}},Lr=Vs.a.create({withCredentials:!0}),Gr="/city";function Mr(e){return Wr.apply(this,arguments)}function Wr(){return Wr=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=t?"?searchWord=".concat(t):"",e.next=3,Lr.get("".concat(Gr)+s);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),Wr.apply(this,arguments)}function Br(){return Yr.apply(this,arguments)}function Yr(){return Yr=Object(je["a"])(regeneratorRuntime.mark(function e(){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lr.get("".concat(Gr,"/top"));case 2:return t=e.sent,s=t.data,e.abrupt("return",s);case 5:case"end":return e.stop()}},e)})),Yr.apply(this,arguments)}var zr={queryCities:Mr,queryTopDests:Br},Kr={state:{cities:[],topDests:[]},mutations:{setCities:function(e,t){var s=t.cities;e.cities=s},setTopDests:function(e,t){var s=t.topDests;e.topDests=s}},getters:{cities:function(e){return e.cities},topDests:function(e){return e.topDests}},actions:{loadCities:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t,s){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=s.searchWord,e.next=3,zr.queryCities(r);case 3:return a=e.sent,t.commit({type:"setCities",cities:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}(),loadTopDests:function(){var e=Object(je["a"])(regeneratorRuntime.mark(function e(t){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zr.queryTopDests();case 2:s=e.sent,t.commit({type:"setTopDests",topDests:s});case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}};r["default"].use(Ks["a"]);var Jr=new Ks["a"].Store({modules:{userStore:Er,cityStore:Kr}}),Vr=s("9483");Object(Vr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Xr=s("a0d8"),Zr=s.n(Xr),Qr=s("5c96"),ea=s.n(Qr),ta=(s("0fae"),s("9f7b")),sa=s.n(ta),ra=s("77ed"),aa=s.n(ra),na=s("f13c"),ia=s.n(na),oa=s("619c"),ca=s("755e"),ua=s("da28"),la=s.n(ua),da=(s("4418"),s("f5af")),pa=s.n(da),fa=(s("e8297"),s("ecee")),ma=s("f2d1"),va=s("c074"),ga=s("ad3d"),ha={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"};r["default"].use(ca,{load:{key:"AIzaSyDMJmYLMFI-0rNvWoZ7KrGpryIsUXOivms",libraries:"places"}}),r["default"].use(ea.a),r["default"].use(aa.a),r["default"].use(sa.a),r["default"].use(oa["a"],ha),r["default"].use(ia.a,{container:"body",duration:500,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),r["default"].use(la.a,{firstDayOfWeek:2}),fa["c"].add(va["c"],ma["b"],ma["c"]),fa["c"].add(va["e"]),fa["c"].add(va["f"]),fa["c"].add(va["k"]),fa["c"].add(va["l"]),fa["c"].add(va["d"]),fa["c"].add(va["n"]),fa["c"].add(va["o"]),fa["c"].add(va["i"]),fa["c"].add(va["b"]),fa["c"].add(va["a"]),fa["c"].add(va["h"]),fa["c"].add(va["g"]),fa["c"].add(va["m"]),fa["c"].add(va["j"]),fa["c"].add(ma["a"]),r["default"].component("font-awesome-icon",ga["a"]),r["default"].use(sa.a),r["default"].use(ea.a),r["default"].use(aa.a),r["default"].use(s("2ead")),r["default"].use(zt.a),r["default"].config.productionTip=!1,new r["default"]({created:function(){pa.a.init()},router:zs,store:Jr,css:Zr.a,render:function(e){return e(F)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var r=s("5e27"),a=s.n(r);a.a},"5c49":function(e,t,s){"use strict";var r=s("a9d7"),a=s.n(r);a.a},"5d44":function(e,t,s){},"5e27":function(e,t,s){},"6c39":function(e,t,s){},"6d55":function(e,t,s){"use strict";var r=s("73b6"),a=s.n(r);a.a},"6f9b":function(e,t,s){},"73b6":function(e,t,s){},"754f":function(e,t,s){"use strict";var r=s("ca41"),a=s.n(r);a.a},"79a0":function(e,t,s){"use strict";var r=s("c124"),a=s.n(r);a.a},"83a9":function(e,t,s){"use strict";var r=s("f9ec"),a=s.n(r);a.a},"84cc":function(e,t,s){"use strict";var r=s("1c74"),a=s.n(r);a.a},"94d9":function(e,t,s){"use strict";var r=s("ba4f"),a=s.n(r);a.a},"98fc":function(e,t){},"9e2d":function(e,t,s){},a0d8:function(e,t,s){},a0fc:function(e,t,s){},a24e:function(e,t,s){"use strict";var r=s("4062"),a=s.n(r);a.a},a3a6:function(e,t,s){},a92e:function(e,t,s){},a9d7:function(e,t,s){},adf5:function(e,t,s){},b0de:function(e,t,s){"use strict";var r=s("d2c0"),a=s.n(r);a.a},b2b9:function(e,t,s){"use strict";var r=s("9e2d"),a=s.n(r);a.a},b7d4:function(e,t,s){},ba4f:function(e,t,s){},c01f:function(e,t,s){"use strict";var r=s("fc9f"),a=s.n(r);a.a},c06d:function(e,t,s){},c124:function(e,t,s){},ca41:function(e,t,s){},d2c0:function(e,t,s){},d5c9:function(e,t,s){"use strict";var r=s("a92e"),a=s.n(r);a.a},da11:function(e,t,s){},dc32:function(e,t,s){"use strict";var r=s("4b12"),a=s.n(r);a.a},de0f:function(e,t,s){"use strict";var r=s("da11"),a=s.n(r);a.a},dfa2:function(e,t,s){"use strict";var r=s("041e"),a=s.n(r);a.a},e0bd:function(e,t,s){"use strict";var r=s("6c39"),a=s.n(r);a.a},ebe2:function(e,t,s){"use strict";var r=s("adf5"),a=s.n(r);a.a},ee1b:function(e,t,s){},f38a:function(e,t,s){},f6fb:function(e,t,s){"use strict";var r=s("f38a"),a=s.n(r);a.a},f7d7:function(e,t,s){"use strict";var r=s("0857"),a=s.n(r);a.a},f897:function(e,t,s){},f9ec:function(e,t,s){},fc9f:function(e,t,s){}});
//# sourceMappingURL=app.55d3a8e0.js.map